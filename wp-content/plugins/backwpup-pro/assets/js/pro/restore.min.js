window.BWU=window.BWU||{},function(d,u,w,y,p,f,g){"use strict";f(window).load(function(){var e=w("?step")?w("?step"):1,o=document.querySelector("#restore_step"),t=o?o.getAttribute("data-nonce"):"",r=d.Restore.FactoryStrategy(u,t),s=d.DecrypterFactory(u,document.querySelector("#decrypt_key"),document.querySelector("#decryption_key")),n=d.Restore.FactoryDatabaseRestore(u,t,{onMessageCallback:function(e){f("#restore_progress").text(g.restoringPrefix+e.message)},onSuccessCallback:function(){d.Restore.Functions.loadNextStep(5,t)}}),c=d.Restore.FactoryFilesRestore(u,t,{onMessageCallback:function(e){f("#restore_progress").text(g.restoringPrefix+e.message)},onSuccessCallback:function(){n.init().restore()}}),a=d.Restore.FactoryDecompress(u,t,w("?restore_file")),i=d.Restore.FactoryDownload(u,t,w("?file"),w("?service"),w("?jobid"),w("?restore_file")),l=d.Restore.FactoryController(u,t,w,y,document.querySelector("#drag-drop-area"),r,n,c,a,i,s);l&&(l.init(),p.isFunction(l["step"+e])&&l["step"+e]())})}(window.BWU,window.ajaxurl,window.url,window.plupload,window._,window.jQuery,window.backwpupRestoreLocalized);